<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Archive - Cjaewon</title><link rel="shortcut icon" type="image/png" href="/favicon-192x192.png"/><meta name="description" content="Cjaewon :: 여러 플랫폼에 작성한 글들을 아카이브 해둔 공간입니다."/><meta name="next-head-count" content="5"/><link rel="preload" href="/_next/static/css/ab3819b9ef4235c1576c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/ab3819b9ef4235c1576c.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-3d3739f20e96f87a3f30.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.2113c6061a2f456066a1.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.d03b18093d5ccea22823.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-93af60e2fe845d958d08.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/index-d10278521cd4b6b42875.js" as="script"/></head><body><div id="__next"><div class="Header"><img src="./logo.svg" alt="Cjaewon Logo"/></div><main><div class="Hero"><h3 class="Hero__title">안녕하세요, Hello World 👋 🌎!</h3><p class="Hero__description">이곳은 제가 여러 플랫폼에 작성한 글들을 아카이브 해둔 공간입니다.</p><div class="Hero__links"><a href="https://github.com/cjaewon">깃허브</a><a href="https://medium.com/cja3won">미디엄</a></div></div><div class="Posts"><div class="Post"><h2 class="Post__title">Github 이스터에그</h2><p class="Post__description">위 사진을 보면 cjaewon/README.md 에 자기소개가 있는 것을 알 수 있다.

cjaewon/README.md 를 만드는 방법은 username/username 레포를 생성 후
README.md 에 자기소개 또는 정보를 작성하면 된다.
그 후 다시 프로필로 </p><span class="Post__date">Sun, 05 Jul 2020 00:14:08 GMT</span></div><div class="Post"><h2 class="Post__title">🐦 &quot;serverless&quot; 로 날아다니기</h2><p class="Post__description">🍯 serverless 사용하면서 장점과 꿀팁, 삽질기를 정리한 글입니다.
시작에 앞서서
serverless 는 동적으로 머신 자원을 활당하고 사용한 만큼 돈을 내는 클라우드 컴퓨팅 실행모델로 개발자는 
서버에 대해 신경을 안 쓰고 개발이 가능하게 해주는 서비스 입니</p><span class="Post__date">Sun, 21 Jun 2020 06:14:19 GMT</span></div><div class="Post"><h2 class="Post__title">Github Action으로 매일마다 브리핑 받기!</h2><p class="Post__description">매일마다 브리핑을 해주는 뉴스봇을 깃허브 액션으로 만들어보기
Google App Script 로 개발...!
구글 앱 스크립트는 간단한 응용 프로그램 개발을 위해 Google에서 개발한 스크립팅 플랫폼이다.
앱 스크립트는 문법이 자바스크립트이고 거의 무료여서 사용하기 </p><span class="Post__date">Mon, 23 Mar 2020 05:23:11 GMT</span></div></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"posts":[{"title":"Github 이스터에그","link":"https://velog.io/@jwn4492/Github-%ED%94%84%EB%A1%9C%ED%95%84%EC%97%90-README.md-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0","pubDate":"Sun, 05 Jul 2020 00:14:08 GMT","content":"\u003cp\u003e\u003cimg src=\"https://images.velog.io/images/jwn4492/post/59967ef6-4dab-4798-aa81-7d0f4c838f77/image.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003e위 사진을 보면 \u003ccode\u003ecjaewon/README.md\u003c/code\u003e 에 자기소개가 있는 것을 알 수 있다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://images.velog.io/images/jwn4492/post/4db851fc-eb51-4c23-8b9f-9195c7528bf5/image.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003ecjaewon/README.md\u003c/code\u003e 를 만드는 방법은 \u003ccode\u003eusername/username\u003c/code\u003e 레포를 생성 후\nREADME.md 에 자기소개 또는 정보를 작성하면 된다.\u003c/p\u003e\n\u003cp\u003e그 후 다시 프로필로 들어와 보면 위 처럼 수정이 된다.\u003c/p\u003e\n","contentSnippet":"위 사진을 보면 cjaewon/README.md 에 자기소개가 있는 것을 알 수 있다.\n\ncjaewon/README.md 를 만드는 방법은 username/username 레포를 생성 후\nREADME.md 에 자기소개 또는 정보를 작성하면 된다.\n그 후 다시 프로필로 들어와 보면 위 처럼 수정이 된다.","guid":"https://velog.io/@jwn4492/Github-%ED%94%84%EB%A1%9C%ED%95%84%EC%97%90-README.md-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0","isoDate":"2020-07-05T00:14:08.000Z"},{"title":"🐦 \"serverless\" 로 날아다니기","link":"https://velog.io/@jwn4492/serverless-%EB%A1%9C-%EB%82%A0%EC%95%84%EB%8B%A4%EB%8B%88%EA%B8%B0","pubDate":"Sun, 21 Jun 2020 06:14:19 GMT","content":"\u003cblockquote\u003e\n\u003cp\u003e🍯 serverless 사용하면서 장점과 꿀팁, 삽질기를 정리한 글입니다.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id=\"시작에-앞서서\"\u003e시작에 앞서서\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eserverless\u003c/strong\u003e 는 동적으로 머신 자원을 활당하고 사용한 만큼 돈을 내는 클라우드 컴퓨팅 실행모델로 개발자는 \n서버에 대해 신경을 안 쓰고 개발이 가능하게 해주는 서비스 입니다.\u003c/p\u003e\n\u003cp\u003e이 글에서는 \u003cstrong\u003eAWS\u003c/strong\u003e 람다와 서버리스 관리도구인 \u003cstrong\u003eserverless\u003c/strong\u003e 를 사용합니다.\u003c/p\u003e\n\u003ch2 id=\"serverless-를-도입하고-얻은-장점\"\u003eserverless 를 도입하고 얻은 장점\u003c/h2\u003e\n\u003ch3 id=\"💰-비용-절약\"\u003e💰 비용 절약\u003c/h3\u003e\n\u003cp\u003e제가 운영하고 있는 챗봇 서비스는 하루에 약 200개 정도의 요청만 오는 아주 작은 서비스입니다.\n\u003cstrong\u003eserverless\u003c/strong\u003e 를 사용하기 전에는 \u003cstrong\u003eGCP\u003c/strong\u003e 에서 가장 낮은 사양인 \u003ccode\u003ef1-micro( vCPU 1개, 0.6GB 메모리 )\u003c/code\u003e\n에서 작동했습니다.\u003c/p\u003e\n\u003cp\u003e매달 약 8000원 정도의 비용이였던 걸로 기억합니다. ( 프리티어 였... )\n이걸 서버리스로 옮겨 가격을 절감하고자 했고 비교적 서버리스를 잘 지원하고 있던 \u003cstrong\u003eAWS\u003c/strong\u003e 로 이사를 가기로\n결정했습니다. 그렇게 열심히 express 코드를 함수별로 나누어 \u003cstrong\u003eserverless\u003c/strong\u003e 에 올리니 프리티어를 제외하고 계산한 결과\n\u003ccode\u003e(monthly): 0.03 USD\u003c/code\u003e 라는 약 \u003cstrong\u003e36원\u003c/strong\u003e 이라는 어마어마한 낮은 가격으로 서비스를 운영 할 수 있었습니다.\u003c/p\u003e\n\u003ch3 id=\"🌟-완전-쉬운-배포\"\u003e🌟 완전 쉬운 배포\u003c/h3\u003e\n\u003cp\u003e단지 가격의 장점만 생각하고 있던 저는 \u003cstrong\u003eserverless\u003c/strong\u003e 로 넘어와 왜 \u003cstrong\u003e자동 배포\u003c/strong\u003e 를 구축하는지 알게되었습니다.\n\u003ccode\u003esls deploy\u003c/code\u003e 명령어 하나로 자동으로 배포가 되는 것을 보고 엄청 편했습니다.\n예전에는 컴퓨터 엔진을 사용할 때 \u003cstrong\u003essh\u003c/strong\u003e로 연결하고 \u003cstrong\u003egithub\u003c/strong\u003e 에 올리고 \u003cstrong\u003eclone\u003c/strong\u003e 하고를 반복했는데\n명령어 한개로 자동으로 배포되니 업데이트도 잦아지면서 오류 해결도 빠르고 요청한 기능도 빠르게 만들고 배포하여 사용자의 만족도가 높아졌습니다.\u003c/p\u003e\n\u003ch3 id=\"📈-대시보드와-📄-로그\"\u003e📈 대시보드와 📄 로그\u003c/h3\u003e\n\u003cp\u003e컴퓨터 엔진을 사용할때는 요청 수, 오류 발생, 응답 속도가 어떻게 되는지 확인 할 방법이 없었습니다.\n그러다가 \u003cstrong\u003eserverless\u003c/strong\u003e 로 넘어오니 밑에 사진처럼 한눈에 보여주니 서비스의 사용도랑 오류 수를 확인 할 수 있어서 편했습니다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://images.velog.io/images/jwn4492/post/7d0166bb-ec33-4c50-9238-bde3d571896c/image.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003e또한 전에는 pm2를 이용해서 \u003cstrong\u003e로그\u003c/strong\u003e를 남겼는데 로그를 확인해야 할때마다 ssh로 연결해야하는게 귀찮았고\nvim을 통해 로그를 보는게 불편했습니다. \u003cstrong\u003eAWS lambda\u003c/strong\u003e 에서는 로그를 출력하기만 해도 밑에 사진처럼 로그를 찍어주는게 편했습니다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://images.velog.io/images/jwn4492/post/ff692369-459d-40ab-898c-6d0b8209133a/image.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003ch2 id=\"얻은-단점\"\u003e얻은 단점...\u003c/h2\u003e\n\u003ch3 id=\"🔥-초기-지연-시간\"\u003e🔥 초기 지연 시간\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003eAWS lambda\u003c/strong\u003e 는 요청이 연속적으로 오지 않으면 \u003cstrong\u003eCold\u003c/strong\u003e 상태가 되어 \u003cstrong\u003eResponse\u003c/strong\u003e 늦어지는 경우가 발생하기도 하였습니다. 언어별로 다르긴 하지만 Node.js 는 빠른편이여서 신경 쓸 정도는 아니였습니다.\u003c/p\u003e\n\u003ch2 id=\"꿀팁\"\u003e꿀팁\u003c/h2\u003e\n\u003ch3 id=\"📦-webpack\"\u003e📦 webpack\u003c/h3\u003e\n\u003cp\u003e타입스크립트를 사용하거나 실행속도를 빠르게 하고 싶다면 \u003cstrong\u003ewebpack\u003c/strong\u003e 을 사용하면 좋습니다.\n원래 백엔드는 따로 코드 압축이 필요없었지만 람다는 따로따로 실행하기 때문에 webpack을 사용해서 코드 읽는 시간을 단축시켜 전보다 빠른 실행이 가능합니다.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eserverless\u003c/strong\u003e 플러그인인 \u003ca href=\"https://github.com/serverless-heaven/serverless-webpack\"\u003eserverless-webpack\u003c/a\u003e 을 사용하면 됩니다.\u003c/p\u003e\n\u003ch3 id=\"🌎-serverless-http\"\u003e🌎 serverless-http\u003c/h3\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eTMI\u003c/strong\u003e velog도 \u003ccode\u003eserverless-http\u003c/code\u003e를 사용하고 있어요! \u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e\u003cstrong\u003eserverless\u003c/strong\u003e 핸들러를 하나하나식 작성하게 되면 생산성 하락, 함수 개수 제한 및 플랫폼에 종속되기 때문에 다른 클라우드로 이사를 갈때 다시 작성해야 할 경우도 발생합니다.\u003c/p\u003e\n\u003cp\u003e이럴 때 \u003cstrong\u003eservereless\u003c/strong\u003e 를 \u003ccode\u003eexpress\u003c/code\u003e, \u003ccode\u003ekoa\u003c/code\u003e 같은 프레임워크를 사용 할 수 있는 방법이 있는데요\n\u003ca href=\"https://github.com/dougmoscrop/serverless-http\"\u003eserverless-http\u003c/a\u003e 를 사용하면 가능합니다\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-ts\"\u003e// src/serverless.ts\nimport serverless from \u0026#39;serverless-http\u0026#39;;\nimport { APIGatewayProxyHandler } from \u0026#39;aws-lambda\u0026#39;;\n\nimport app from \u0026#39;./app\u0026#39;;\n\nconst serverlessApp = serverless(app);\n\nexport const handler: APIGatewayProxyHandler = async(event, context) =\u0026gt; {\n  const response = await serverlessApp(event, context);\n\n  return response;\n};\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-yml\"\u003e# serverless.yml\n\nfunctions:\n  app:\n    handler: src/serverless.handler\n    events:\n      - http:\n          path: /\n          method: ANY\n      - http:\n          path: /{any+}\n          method: ANY\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e위 코드같이 사용하면 \u003ccode\u003eexpress\u003c/code\u003e, \u003ccode\u003ekoa\u003c/code\u003e를 사용하면서도 \u003cstrong\u003eserverelss\u003c/strong\u003e를 사용 할 수 있게 됩니다.\u003c/p\u003e\n\u003cp\u003e( + express 는 사용하기 무겁다는 평가도 존재하고 koa보다 느립니다. 따라서 실행시간에 비례해 가격이 측정되는 \u003cstrong\u003eserverless\u003c/strong\u003e 에서는 koa.js 를 사용하는게 좋습니다. ) \u003c/p\u003e\n\u003ch2 id=\"정리\"\u003e정리\u003c/h2\u003e\n\u003cp\u003e위 같은 장단점이 있습니다. 저는 개인적으로 \u003cstrong\u003ewebsocket\u003c/strong\u003e 계속 연결해야 하는 일이 \n아니면 \u003cstrong\u003eserverless\u003c/strong\u003e 사용을 추천드립니다!\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e더 읽어보기\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://blog.rocketpunch.com/2017/07/02/2-million-pv-with-300-krw/\"\u003e300원에 200만뷰 소화하기 – 서버리스 아키텍처 AWS 람다(Lambda) 활용 사례\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://medium.com/harrythegreat/aws-lambda%EB%A5%BC-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0-%EC%A0%84-%EC%95%8C%EC%95%98%EC%9C%BC%EB%A9%B4-%EC%A2%8B%EC%95%98%EC%9D%84%EA%B2%83%EB%93%A4-788bd3b3bdd2\"\u003eAWS Lambda를 시작하기 전 알았으면 좋았을것들\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n","contentSnippet":"🍯 serverless 사용하면서 장점과 꿀팁, 삽질기를 정리한 글입니다.\n시작에 앞서서\nserverless 는 동적으로 머신 자원을 활당하고 사용한 만큼 돈을 내는 클라우드 컴퓨팅 실행모델로 개발자는 \n서버에 대해 신경을 안 쓰고 개발이 가능하게 해주는 서비스 입니다.\n이 글에서는 AWS 람다와 서버리스 관리도구인 serverless 를 사용합니다.\nserverless 를 도입하고 얻은 장점\n💰 비용 절약\n제가 운영하고 있는 챗봇 서비스는 하루에 약 200개 정도의 요청만 오는 아주 작은 서비스입니다.\nserverless 를 사용하기 전에는 GCP 에서 가장 낮은 사양인 f1-micro( vCPU 1개, 0.6GB 메모리 )\n에서 작동했습니다.\n매달 약 8000원 정도의 비용이였던 걸로 기억합니다. ( 프리티어 였... )\n이걸 서버리스로 옮겨 가격을 절감하고자 했고 비교적 서버리스를 잘 지원하고 있던 AWS 로 이사를 가기로\n결정했습니다. 그렇게 열심히 express 코드를 함수별로 나누어 serverless 에 올리니 프리티어를 제외하고 계산한 결과\n(monthly): 0.03 USD 라는 약 36원 이라는 어마어마한 낮은 가격으로 서비스를 운영 할 수 있었습니다.\n🌟 완전 쉬운 배포\n단지 가격의 장점만 생각하고 있던 저는 serverless 로 넘어와 왜 자동 배포 를 구축하는지 알게되었습니다.\nsls deploy 명령어 하나로 자동으로 배포가 되는 것을 보고 엄청 편했습니다.\n예전에는 컴퓨터 엔진을 사용할 때 ssh로 연결하고 github 에 올리고 clone 하고를 반복했는데\n명령어 한개로 자동으로 배포되니 업데이트도 잦아지면서 오류 해결도 빠르고 요청한 기능도 빠르게 만들고 배포하여 사용자의 만족도가 높아졌습니다.\n📈 대시보드와 📄 로그\n컴퓨터 엔진을 사용할때는 요청 수, 오류 발생, 응답 속도가 어떻게 되는지 확인 할 방법이 없었습니다.\n그러다가 serverless 로 넘어오니 밑에 사진처럼 한눈에 보여주니 서비스의 사용도랑 오류 수를 확인 할 수 있어서 편했습니다.\n\n또한 전에는 pm2를 이용해서 로그를 남겼는데 로그를 확인해야 할때마다 ssh로 연결해야하는게 귀찮았고\nvim을 통해 로그를 보는게 불편했습니다. AWS lambda 에서는 로그를 출력하기만 해도 밑에 사진처럼 로그를 찍어주는게 편했습니다.\n\n얻은 단점...\n🔥 초기 지연 시간\nAWS lambda 는 요청이 연속적으로 오지 않으면 Cold 상태가 되어 Response 늦어지는 경우가 발생하기도 하였습니다. 언어별로 다르긴 하지만 Node.js 는 빠른편이여서 신경 쓸 정도는 아니였습니다.\n꿀팁\n📦 webpack\n타입스크립트를 사용하거나 실행속도를 빠르게 하고 싶다면 webpack 을 사용하면 좋습니다.\n원래 백엔드는 따로 코드 압축이 필요없었지만 람다는 따로따로 실행하기 때문에 webpack을 사용해서 코드 읽는 시간을 단축시켜 전보다 빠른 실행이 가능합니다.\nserverless 플러그인인 serverless-webpack 을 사용하면 됩니다.\n🌎 serverless-http\nTMI velog도 serverless-http를 사용하고 있어요! \nserverless 핸들러를 하나하나식 작성하게 되면 생산성 하락, 함수 개수 제한 및 플랫폼에 종속되기 때문에 다른 클라우드로 이사를 갈때 다시 작성해야 할 경우도 발생합니다.\n이럴 때 servereless 를 express, koa 같은 프레임워크를 사용 할 수 있는 방법이 있는데요\nserverless-http 를 사용하면 가능합니다\n// src/serverless.ts\nimport serverless from 'serverless-http';\nimport { APIGatewayProxyHandler } from 'aws-lambda';\n\nimport app from './app';\n\nconst serverlessApp = serverless(app);\n\nexport const handler: APIGatewayProxyHandler = async(event, context) =\u003e {\n  const response = await serverlessApp(event, context);\n\n  return response;\n};\n# serverless.yml\n\nfunctions:\n  app:\n    handler: src/serverless.handler\n    events:\n      - http:\n          path: /\n          method: ANY\n      - http:\n          path: /{any+}\n          method: ANY\n위 코드같이 사용하면 express, koa를 사용하면서도 serverelss를 사용 할 수 있게 됩니다.\n( + express 는 사용하기 무겁다는 평가도 존재하고 koa보다 느립니다. 따라서 실행시간에 비례해 가격이 측정되는 serverless 에서는 koa.js 를 사용하는게 좋습니다. ) \n정리\n위 같은 장단점이 있습니다. 저는 개인적으로 websocket 계속 연결해야 하는 일이 \n아니면 serverless 사용을 추천드립니다!\n더 읽어보기\n300원에 200만뷰 소화하기 – 서버리스 아키텍처 AWS 람다(Lambda) 활용 사례\nAWS Lambda를 시작하기 전 알았으면 좋았을것들","guid":"https://velog.io/@jwn4492/serverless-%EB%A1%9C-%EB%82%A0%EC%95%84%EB%8B%A4%EB%8B%88%EA%B8%B0","isoDate":"2020-06-21T06:14:19.000Z"},{"title":"Github Action으로 매일마다 브리핑 받기!","link":"https://velog.io/@jwn4492/Github-Action%EC%9C%BC%EB%A1%9C-%EB%A7%A4%EC%9D%BC%EB%A7%88%EB%8B%A4-%EB%B8%8C%EB%A6%AC%ED%95%91-%EB%B0%9B%EA%B8%B0","pubDate":"Mon, 23 Mar 2020 05:23:11 GMT","content":"\u003ch3 id=\"매일마다-브리핑을-해주는-뉴스봇을-깃허브-액션으로-만들어보기\"\u003e매일마다 브리핑을 해주는 뉴스봇을 깃허브 액션으로 만들어보기\u003c/h3\u003e\n\u003ch2 id=\"google-app-script-로-개발\"\u003eGoogle App Script 로 개발...!\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003e구글 앱 스크립트\u003c/code\u003e는 간단한 응용 프로그램 개발을 위해 Google에서 개발한 스크립팅 플랫폼이다.\n앱 스크립트는 문법이 자바스크립트이고 거의 무료여서 사용하기 편하다고 생각해서 사용하게 되었다.\u003c/p\u003e\n\u003cp\u003e\u003cdel\u003e어...? 최신 자바스크립트 문법을 사용할 수 없었다\u003c/del\u003e\u003c/p\u003e\n\u003cp\u003e무료를 좋아하는 나한테는 어쩔 수 없이 개발을 진행하게되었다.\n그렇게 어쩌다보니 개발을 다 완료하고 트리거로 매일 8시에 알람이 오게 하였다.\u003c/p\u003e\n\u003cp\u003eGAE 플랫폼에서 돌아가는 특성상 오류를 잡기 힘들고 npm 모듈을 사용 할 수 없어서 그냥 람다 또는 파이어베이스의 function 을 사용할려고 햇다.\u003c/p\u003e\n\u003ch2 id=\"github-action-을-쓰자\"\u003eGithub Action 을 쓰자!\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://ahnheejong.name/articles/receive-new-room-notification-mails-using-github-action/\"\u003e이 글을\u003c/a\u003e 보고 처음 \u003ccode\u003eGithub Action\u003c/code\u003e을 알게되었고 바로 쓰면 좋을 것 같다는 생각이 들었다.\u003c/p\u003e\n\u003cp\u003e자신이 원하는 프로그래밍 언어로 작업을 할 수 있는게 매력적으로 느껴졌다.\n그렇게 \u003ccode\u003e앱 스크립트\u003c/code\u003e를 버리고 \u003ccode\u003eGithub Action\u003c/code\u003e을 사용하는김에 코드를 다 최신 문법으로 바꾸고 \u003ccode\u003e타입스크립트를\u003c/code\u003e 적용시켰다.\u003c/p\u003e\n\u003ch3 id=\"1-웹-파싱을-하자\"\u003e1. 웹 파싱을 하자\u003c/h3\u003e\n\u003ch4 id=\"날씨\"\u003e날씨\u003c/h4\u003e\n\u003cp\u003e봇은 날씨, 온도, 뉴스 등을 보내주기 위해서는 데이터를 파싱해야했다.\n날씨와 온도는 \u003ca href=\"https://openweathermap.org/api\"\u003eWeather Api\u003c/a\u003e 를 사용해서 가져오기로 했다. 다만 Wetaher Api에는 한가지 문제점이 있는데 결과값이 영어라는 점이다.\n그래서 날씨 코드를 이용해서 한글로 변환해주어한다 그래서 \u003ccode\u003ejson\u003c/code\u003e 파일로 저장 후 날씨 코드를 이용해서 한글로 된 날씨 데이터로 가공하였다.\n\u003cimg src=\"https://images.velog.io/images/jwn4492/post/bd3d327f-c667-450e-a594-08677c25b92f/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202020-03-23%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%2012.15.08.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003ch4 id=\"뉴스\"\u003e뉴스\u003c/h4\u003e\n\u003cp\u003e그 다음은 뉴스를 파싱해야했다. 네이버 뉴스, 다음 뉴스, 구글 뉴스 등이 있었는데 \n나는 그 중 구글 뉴스를 파싱했다.\n\u003ca href=\"https://news.google.com/rss?hl=ko\u0026amp;gl=KR\u0026amp;ceid=KR:ko\"\u003ehttps://news.google.com/rss?hl=ko\u0026amp;gl=KR\u0026amp;ceid=KR:ko\u003c/a\u003e\n해당 사이트에서 \u003ccode\u003eaxios\u003c/code\u003e를 사용하여 가져온 후 \u003ccode\u003echeerio\u003c/code\u003e를 사용하여 제목과 url을 파싱했다.\n\u003cimg src=\"https://images.velog.io/images/jwn4492/post/d58282b8-5800-4b56-931a-c13b21c7a234/image.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003ch3 id=\"2-웹훅으로-전송\"\u003e2. 웹훅으로 전송\u003c/h3\u003e\n\u003cp\u003e일단 웹훅으로 전송하기 위해서는 웹훅 url이 필요했는데 이 url을 저장할 방법이 고민이었다.\n웹훅 url은 공개되면 안 되는 정보였으므로 비밀스럽게 보관해야 했다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://images.velog.io/images/jwn4492/post/ac41048d-9846-4efa-b9f1-460595f0f8ea/image.png\" alt=\"\"\u003e\n방법을 찾는 도중에 \u003ccode\u003e깃헙 secrets\u003c/code\u003e에 보관이 가능하다는 것을 알고 설정을 하고 \u003ccode\u003enodejs.yml\u003c/code\u003e에 추가해주었더니 \n\u003ccode\u003eprocess.env\u003c/code\u003e로 바로 가져올 수 있었다 :)\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://images.velog.io/images/jwn4492/post/14d0da73-3a46-42ba-a619-f632db5f58c4/image.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003e그렇게 파싱한 정보를 매일 아침 8시에 웹훅으로 보내게 하였다.\u003c/p\u003e\n\u003ch2 id=\"결과\"\u003e결과\u003c/h2\u003e\n\u003ch3 id=\"디스코드-웹훅\"\u003e디스코드 웹훅\u003c/h3\u003e\n\u003cp\u003e\u003cimg src=\"https://images.velog.io/images/jwn4492/post/35610fa7-e22f-4ac6-862a-d7834ec84c23/image.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003ch3 id=\"슬랙-웹훅\"\u003e슬랙 웹훅\u003c/h3\u003e\n\u003cp\u003e\u003cimg src=\"https://images.velog.io/images/jwn4492/post/45fcb40e-fd91-4275-a001-eef7c2a96558/image.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003e이렇게 \u003ccode\u003eGithub Action\u003c/code\u003e으로 편지봇을 만들어 보았다.\n\u003ccode\u003eGithub Action\u003c/code\u003e을 처음 사용해보았는데 매우 좋았고 사용할 기회가 있으면 사용할 것 이다.\u003c/p\u003e\n\u003cp\u003e또한 \u003ccode\u003eGithub Action\u003c/code\u003e을 활용한다면 여러가지 작업을 할 수 있다  ( 배포, 테스트 등)  \u003c/p\u003e\n  \u003ca href=\"https://github.com/cjaewon/letterbot\"\u003e\n    https://github.com/cjaewon/letterbot\n  \u003c/a\u003e\n\n\u003cp\u003e\u003cimg src=\"https://images.velog.io/images/jwn4492/post/9d629978-fc40-41de-a3aa-c4111a5d8018/image.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003e긴글 읽어주셔서 감사합니다!\u003c/p\u003e\n","contentSnippet":"매일마다 브리핑을 해주는 뉴스봇을 깃허브 액션으로 만들어보기\nGoogle App Script 로 개발...!\n구글 앱 스크립트는 간단한 응용 프로그램 개발을 위해 Google에서 개발한 스크립팅 플랫폼이다.\n앱 스크립트는 문법이 자바스크립트이고 거의 무료여서 사용하기 편하다고 생각해서 사용하게 되었다.\n어...? 최신 자바스크립트 문법을 사용할 수 없었다\n무료를 좋아하는 나한테는 어쩔 수 없이 개발을 진행하게되었다.\n그렇게 어쩌다보니 개발을 다 완료하고 트리거로 매일 8시에 알람이 오게 하였다.\nGAE 플랫폼에서 돌아가는 특성상 오류를 잡기 힘들고 npm 모듈을 사용 할 수 없어서 그냥 람다 또는 파이어베이스의 function 을 사용할려고 햇다.\nGithub Action 을 쓰자!\n이 글을 보고 처음 Github Action을 알게되었고 바로 쓰면 좋을 것 같다는 생각이 들었다.\n자신이 원하는 프로그래밍 언어로 작업을 할 수 있는게 매력적으로 느껴졌다.\n그렇게 앱 스크립트를 버리고 Github Action을 사용하는김에 코드를 다 최신 문법으로 바꾸고 타입스크립트를 적용시켰다.\n1. 웹 파싱을 하자\n날씨\n봇은 날씨, 온도, 뉴스 등을 보내주기 위해서는 데이터를 파싱해야했다.\n날씨와 온도는 Weather Api 를 사용해서 가져오기로 했다. 다만 Wetaher Api에는 한가지 문제점이 있는데 결과값이 영어라는 점이다.\n그래서 날씨 코드를 이용해서 한글로 변환해주어한다 그래서 json 파일로 저장 후 날씨 코드를 이용해서 한글로 된 날씨 데이터로 가공하였다.\n\n뉴스\n그 다음은 뉴스를 파싱해야했다. 네이버 뉴스, 다음 뉴스, 구글 뉴스 등이 있었는데 \n나는 그 중 구글 뉴스를 파싱했다.\nhttps://news.google.com/rss?hl=ko\u0026gl=KR\u0026ceid=KR:ko\n해당 사이트에서 axios를 사용하여 가져온 후 cheerio를 사용하여 제목과 url을 파싱했다.\n\n2. 웹훅으로 전송\n일단 웹훅으로 전송하기 위해서는 웹훅 url이 필요했는데 이 url을 저장할 방법이 고민이었다.\n웹훅 url은 공개되면 안 되는 정보였으므로 비밀스럽게 보관해야 했다.\n\n방법을 찾는 도중에 깃헙 secrets에 보관이 가능하다는 것을 알고 설정을 하고 nodejs.yml에 추가해주었더니 \nprocess.env로 바로 가져올 수 있었다 :)\n\n그렇게 파싱한 정보를 매일 아침 8시에 웹훅으로 보내게 하였다.\n결과\n디스코드 웹훅\n\n슬랙 웹훅\n\n이렇게 Github Action으로 편지봇을 만들어 보았다.\nGithub Action을 처음 사용해보았는데 매우 좋았고 사용할 기회가 있으면 사용할 것 이다.\n또한 Github Action을 활용한다면 여러가지 작업을 할 수 있다  ( 배포, 테스트 등)  \n\n긴글 읽어주셔서 감사합니다!","guid":"https://velog.io/@jwn4492/Github-Action%EC%9C%BC%EB%A1%9C-%EB%A7%A4%EC%9D%BC%EB%A7%88%EB%8B%A4-%EB%B8%8C%EB%A6%AC%ED%95%91-%EB%B0%9B%EA%B8%B0","isoDate":"2020-03-23T05:23:11.000Z"}]},"__N_SSG":true},"page":"/","query":{},"buildId":"Bn4QBLvqMJ4Qcb4g-Fr6G","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-36bde18dcfde0c144be5.js"></script><script src="/_next/static/chunks/main-3d3739f20e96f87a3f30.js" async=""></script><script src="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="/_next/static/chunks/framework.2113c6061a2f456066a1.js" async=""></script><script src="/_next/static/chunks/commons.d03b18093d5ccea22823.js" async=""></script><script src="/_next/static/chunks/pages/_app-93af60e2fe845d958d08.js" async=""></script><script src="/_next/static/chunks/pages/index-d10278521cd4b6b42875.js" async=""></script><script src="/_next/static/Bn4QBLvqMJ4Qcb4g-Fr6G/_buildManifest.js" async=""></script><script src="/_next/static/Bn4QBLvqMJ4Qcb4g-Fr6G/_ssgManifest.js" async=""></script></body></html>